<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amanda Ramirez - Resume</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Three.js CDN for 3D graphics -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* Define color variables for dark mode (default) */
        :root {
            --bg-primary: #1A1A1A;
            --bg-secondary: #333333;
            --text-primary: #BBBBBB;
            --text-contrast: #FFFFFF;
            --border-default: #333333;
            --glitch-red-shadow: #E74C3C;
            --glitch-blue-shadow: #3498DB;
            --glitch-yellow-main: #F1C40F;
            --skill-bar-bg: #4B4B4B;
            --skill-bar-fill: #3498DB;
            --particle-color: #3498DB; /* Updated for particles in dark mode */
            --line-color: #B91C1C; /* Updated for lines in both modes */
        }

        /* Define color variables for light mode */
        body.light-mode {
            --bg-primary: #F3F4F6;
            --bg-secondary: #E5E7EB;
            --text-primary: #4B5563;
            --text-contrast: #1F2937;
            --border-default: #D1D5DB;
            --glitch-red-shadow: #B91C1C;
            --glitch-blue-shadow: #1D4ED8;
            --glitch-yellow-main: #F59E0B;
            --skill-bar-bg: #D1D5DB;
            --skill-bar-fill: #1D4ED8;
            --particle-color: #1D4ED8; /* Updated for particles in light mode */
            --line-color: #B91C1C; /* Updated for lines in both modes */
        }

        /* Font Family */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        /* Glitch Effect Keyframes */
        @keyframes glitch-skew {
            0% { transform: skewX(0deg); }
            2% { transform: skewX(-5deg); }
            4% { transform: skewX(5deg); }
            6% { transform: skewX(-5deg); }
            8% { transform: skewX(5deg); }
            10% { transform: skewX(0deg); }
            100% { transform: skewX(0deg); }
        }

        @keyframes glitch-translate {
            0% { transform: translate(0, 0); }
            2% { transform: translate(-2px, 2px); }
            4% { transform: translate(2px, -2px); }
            6% { transform: translate(-2px, 2px); }
            8% { transform: translate(2px, -2px); }
            10% { transform: translate(0, 0); }
            100% { transform: translate(0, 0); }
        }

        .glitch-text {
            position: relative;
            animation: glitch-skew 8s infinite linear alternate, glitch-translate 5s infinite linear alternate;
            z-index: 20;
            color: var(--glitch-yellow-main);
        }

        .glitch-text::before,
        .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            color: var(--glitch-yellow-main);
        }

        .glitch-text::before {
            left: 2px;
            text-shadow: -2px 0 var(--glitch-red-shadow);
            clip-path: inset(60% 0 0 0);
            animation: glitch-translate 3s infinite linear alternate-reverse;
        }

        .glitch-text::after {
            left: -2px;
            text-shadow: -2px 0 var(--glitch-blue-shadow);
            clip-path: inset(0 0 60% 0);
            animation: glitch-translate 4s infinite linear alternate;
        }

        /* Subtle static noise for sections */
        .static-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0,0,0,0.1) 0px,
                rgba(0,0,0,0.1) 1px,
                transparent 1px,
                transparent 2px
            );
            opacity: 0.1;
            pointer-events: none;
            animation: static-noise 0.2s infinite alternate;
            z-index: -1;
        }

        @keyframes static-noise {
            0% { background-position: 0 0; }
            100% { background-position: 0 100%; }
        }

        /* New Rainbow Glitch Overlay - applied to a dedicated div */
        .rainbow-glitch-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                90deg,
                #E74C3C 0%, #E74C3C 5%,
                #F1C40F 5%, #F1C40F 10%,
                #2ECC71 10%, #2ECC71 15%,
                #3498DB 15%, #3498DB 20%,
                #9B59B6 20%, #9B59B6 25%
            );
            background-size: 200% 100%;
            opacity: 0.05;
            pointer-events: none;
            animation: rainbow-glitch 5s infinite linear alternate;
            z-index: 10;
        }

        @keyframes rainbow-glitch {
            0% { background-position: 0 0; }
            100% { background-position: -100% 0; }
        }

        /* Glitch Button Effect */
        .glitch-button {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            z-index: 20;
        }

        .glitch-button::before,
        .glitch-button::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
            transition: all 0.3s ease;
            z-index: -1;
        }

        .glitch-button::before {
            background-color: var(--glitch-red-shadow);
            transform: translateX(-100%);
        }

        .glitch-button::after {
            background-color: var(--glitch-blue-shadow);
            transform: translateX(100%);
        }

        .glitch-button:hover::before {
            transform: translateX(0);
        }

        .glitch-button:hover::after {
            transform: translateX(0);
        }

        .glitch-button:hover {
            color: var(--text-contrast);
            box-shadow: 0 0 15px var(--glitch-yellow-main);
        }

        /* Scroll to top button */
        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: var(--glitch-yellow-main);
            color: var(--bg-primary);
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        #scrollToTopBtn:hover {
            background-color: var(--glitch-red-shadow);
            transform: translateY(-5px);
        }

        /* Skill bar animation */
        .skill-bar-fill {
            transition: width 1.5s ease-in-out;
            width: 0%; /* Initial state for animation */
        }
        
        /* New Styles for Scroll Animations */
        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .scroll-animate {
            opacity: 0;
            transition: all 1s ease-out;
        }

        .scroll-animate.is-visible {
            opacity: 1;
            transform: translateY(0);
            animation: fade-in-up 1s ease-out forwards;
        }
    </style>
</head>
<body class="bg-[var(--bg-primary)] text-[var(--text-primary)]">
    <!-- Skip to Main Content Link -->
    <a href="#main-content" class="sr-only focus:not-sr-only absolute top-0 left-0 bg-retro-yellow text-dark-black p-3 rounded-br-lg z-[1000]">Skip to main content</a>

    <!-- New Rainbow Glitch Overlay Element -->
    <div class="rainbow-glitch-overlay"></div>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn" title="Go to top">▲</button>

    <!-- Header -->
    <header class="bg-[var(--bg-primary)] text-[var(--text-contrast)] py-6 shadow-lg fixed w-full z-50 rounded-b-xl">
        <div class="container mx-auto flex justify-between items-center px-6 md:px-12">
            <a href="https://aram814.github.io/Portfolio/index.html" class="text-3xl font-bold text-[var(--glitch-yellow-main)] glitch-text" data-text="UX Designer">
            UX Designer Resume
            </a>
            <!-- Desktop Navigation and Theme Toggle -->
            <div class="flex items-center space-x-6">
                <nav class="hidden md:flex" role="navigation" aria-label="Main Navigation">
                    <ul class="flex space-x-6">
                        <li><a href="https://aram814.github.io/index.html" class="text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-lg">Home</a></li>
                        <li><a href="#experience" class="text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-lg">Experience</a></li>
                        <li><a href="#education" class="text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-lg">Education</a></li>
                        <li><a href="#skills" class="text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-lg">Skills</a></li>
                        <li><a href="https://aram814.github.io/gallery.html" class="text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-lg">Projects</a></li>
                    </ul>
                </nav>
                <!-- Theme Toggle Button (Desktop & Mobile) -->
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-[var(--bg-secondary)] transition-colors duration-300 focus:outline-none" aria-label="Toggle light and dark mode">
                    <!-- Moon Icon (for dark mode) -->
                    <svg id="moon-icon" class="w-6 h-6 text-[var(--text-primary)]" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                    <!-- Sun Icon (for light mode, hidden by default) -->
                    <svg id="sun-icon" class="w-6 h-6 text-[var(--text-primary)] hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                </button>
                <!-- Hamburger Menu Icon for Mobile -->
                <button id="mobile-menu-button" class="md:hidden text-[var(--text-primary)] focus:outline-none" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open mobile navigation menu">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile Navigation Menu -->
        <nav id="mobile-menu" class="hidden md:hidden bg-[var(--bg-primary)]/90 pt-4 pb-2 mt-4 rounded-b-xl border-t border-[var(--border-default)]" role="navigation" aria-label="Mobile Navigation">
            <ul class="flex flex-col items-center space-y-4">
                <li><a href="https://aram814.github.io/index.html" class="block w-full text-center text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-xl py-2">Home</a></li>
                <li><a href="#experience" class="block w-full text-center text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-xl py-2">Experience</a></li>
                <li><a href="#education" class="block w-full text-center text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-xl py-2">Education</a></li>
                <li><a href="#skills" class="block w-full text-center text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-xl py-2">Skills</a></li>
                <li><a href="https://aram814.github.io/gallery.html" class="block w-full text-center text-[var(--text-primary)] hover:text-[var(--glitch-blue-shadow)] transition duration-300 text-xl py-2">Projects</a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content">
        <!-- New Hero Section with 3D Canvas -->
        <section id="resume-hero" class="h-screen flex items-center justify-center text-center bg-[var(--bg-secondary)] static-section pt-24 relative overflow-hidden">
            <!-- 3D Canvas -->
            <canvas id="hero-canvas" class="absolute top-0 left-0 w-full h-full"></canvas>
            
            <!-- Hero Content on top of the canvas -->
            <div class="container mx-auto px-6 md:px-12 relative z-10 scroll-animate">
                <h1 class="text-5xl md:text-7xl font-extrabold text-[var(--text-contrast)] mb-4 leading-tight glitch-text" data-text="Amanda Ramirez">
                    Amanda Ramirez
                </h1>
                <p class="text-xl md:text-2xl text-[var(--text-primary)] mb-8">
                    An interactive exploration of my skills and experience.
                </p>
                <div class="mt-12">
                    <a href="https://github.com/aram814/portfolio/raw/main/Amanda Ramirez Resume.pdf" download="Amanda Ramirez Resume.pdf" class="inline-block py-4 px-8 rounded-lg font-bold text-xl uppercase tracking-wider transition-colors duration-300
                    glitch-button
                    bg-[var(--glitch-yellow-main)] text-[var(--bg-primary)]
                    hover:bg-[var(--glitch-yellow-main)] hover:text-white">
                        Download My Resume
                    </a>
                </div>
            </div>
        </section>

        <section id="resume-content" class="py-20 bg-[var(--bg-primary)] static-section rounded-t-xl min-h-screen">
            <div class="container mx-auto px-6 md:px-12">
                
                <div class="bg-[var(--bg-secondary)] rounded-xl shadow-xl p-8 md:p-12 border-2 border-[var(--border-default)] mb-10 scroll-animate">
                    <!-- Contact Info -->
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-[var(--text-contrast)]">UX Designer</h2>
                        <p class="text-lg text-[var(--text-primary)]">Citrus Springs, FL| (727) 294-2225 | arramirez814@gmail.com</p>
                    </div>

                    <!-- Summary -->
                    <h3 class="text-2xl font-bold text-[var(--text-contrast)] border-b-2 border-[var(--glitch-red-shadow)] pb-2 mb-4">Summary</h3>
                    <p class="text-[var(--text-primary)] mb-8">
                        Human-centered UX Designer with a unique background in enterprise cybersecurity, specializing in translating complex business challenges into intuitive, user-centered digital experiences. With 7+ years of experience in enterprise technology, I excel at synthesizing technical requirements and user feedback into clear, actionable design solutions. Adept at applying Agile and design thinking methodologies, I am passionate about creating accessible (WCAG/508 compliant) designs that solve real-world problems for technical and non-technical users.
                    </p>
                </div>

                <!-- Experience -->
                <div id="experience" class="bg-[var(--bg-secondary)] rounded-xl shadow-xl p-8 md:p-12 border-2 border-[var(--border-default)] mb-10 scroll-animate">
                    <h3 class="text-2xl font-bold text-[var(--text-contrast)] border-b-2 border-[var(--glitch-red-shadow)] pb-2 mb-4">Experience</h3>
                    <div class="mb-6">
                        <h4 class="text-xl font-semibold text-[var(--text-contrast)]">Associate Client Manager</h4>
                        <p class="text-[var(--text-primary)]">World Wide Technology (WWT) | Remote | 2021 – Present</p>
                        <p class="text-[var(--text-primary)]">Drove multimillion-dollar client partnerships by leading cross-functional teams and translating complex requirements into actionable solutions. From orchestrating a $43M multi-year agreement to streamlining OEM onboarding and shaping product roadmaps, I bridged business needs with technical execution to deliver measurable client impact.</p>
                    </div>
                    <div class="mb-6">
                        <h4 class="text-xl font-semibold text-[var(--text-contrast)]">Strategic Account Manager</h4>
                        <p class="text-[var(--text-primary)]">Tech Data (now TDSynnex) | Clearwater, FL | 2017 – 2021</p>
                        <p class="text-[var(--text-primary)]">Managed clients from SMBs to Fortune 100s, designing tailored security solutions that solved core business challenges. Partnered with product and engineering teams to translate needs into product requirements, delivered data-driven business reviews, and guided end-to-end solution adoption across diverse industries.</p>
                    </div>
                </div>

                <!-- Education -->
                <div id="education" class="bg-[var(--bg-secondary)] rounded-xl shadow-xl p-8 md:p-12 border-2 border-[var(--border-default)] mb-10 scroll-animate">
                    <h3 class="text-2xl font-bold text-[var(--text-contrast)] border-b-2 border-[var(--glitch-red-shadow)] pb-2 mb-4">Education</h3>
                    <ul class="list-disc list-inside space-y-2 text-[var(--text-primary)]">
                        <li>Google UX Design Professional Certificate (2025)</li>
                        <li>Cisco Computer Hardware Basics (2024)</li>
                        <li>Cisco Introduction to Cybersecurity (2023)</li>
                        <li>Cisco Introduction to IoT (2022)</li>
                        <li>Associate of Science - EMS (2012)</li>
                    </ul>
                </div>
                    
                <!-- Skills -->
                <div id="skills" class="bg-[var(--bg-secondary)] rounded-xl shadow-xl p-8 md:p-12 border-2 border-[var(--border-default)] mb-10 scroll-animate">
                    <h3 class="text-2xl font-bold text-[var(--text-contrast)] border-b-2 border-[var(--glitch-red-shadow)] pb-2 mb-4 mt-8">Skills</h3>
                    <p class="text-[var(--text-primary)] mb-8">
                        This chart visualizes my proficiency in skills that align with strategic design and development. The blend of professional and technical abilities positions me to contribute effectively to innovative projects.
                    </p>
                    <div class="space-y-6 mb-6">
                        <!-- Skill Bar: Human-Centered UX & UI Design -->
                        <div class="skill-bar-container" data-percent="95">
                            <div class="flex justify-between items-end mb-1 text-sm text-[var(--text-contrast)]">
                                <span>Human-Centered UX & UI Design</span>
                                <span>95%</span>
                            </div>
                            <div class="w-full bg-[var(--skill-bar-bg)] rounded-full h-2">
                                <div class="skill-bar-fill h-full rounded-full bg-[var(--skill-bar-fill)]"></div>
                            </div>
                        </div>
                        <!-- Skill Bar: Wireframing, Prototyping & User Flows -->
                        <div class="skill-bar-container" data-percent="90">
                            <div class="flex justify-between items-end mb-1 text-sm text-[var(--text-contrast)]">
                                <span>Wireframing, Prototyping & User Flows</span>
                                <span>90%</span>
                            </div>
                            <div class="w-full bg-[var(--skill-bar-bg)] rounded-full h-2">
                                <div class="skill-bar-fill h-full rounded-full bg-[var(--skill-bar-fill)]"></div>
                            </div>
                        </div>
                        <!-- Skill Bar: User Research & Usability Testing -->
                        <div class="skill-bar-container" data-percent="92">
                            <div class="flex justify-between items-end mb-1 text-sm text-[var(--text-contrast)]">
                                <span>User Research & Usability Testing</span>
                                <span>92%</span>
                            </div>
                            <div class="w-full bg-[var(--skill-bar-bg)] rounded-full h-2">
                                <div class="skill-bar-fill h-full rounded-full bg-[var(--skill-bar-fill)]"></div>
                            </div>
                        </div>
                        <!-- Skill Bar: Accessibility & Inclusive Design (WCAG compliance) -->
                        <div class="skill-bar-container" data-percent="95">
                            <div class="flex justify-between items-end mb-1 text-sm text-[var(--text-contrast)]">
                                <span>Accessibility & Inclusive Design (WCAG compliance)</span>
                                <span>95%</span>
                            </div>
                            <div class="w-full bg-[var(--skill-bar-bg)] rounded-full h-2">
                                <div class="skill-bar-fill h-full rounded-full bg-[var(--skill-bar-fill)]"></div>
                            </div>
                        </div>
                        <!-- Skill Bar: Information Architecture & Interaction Design -->
                        <div class="skill-bar-container" data-percent="88">
                            <div class="flex justify-between items-end mb-1 text-sm text-[var(--text-contrast)]">
                                <span>Information Architecture & Interaction Design</span>
                                <span>88%</span>
                            </div>
                            <div class="w-full bg-[var(--skill-bar-bg)] rounded-full h-2">
                                <div class="skill-bar-fill h-full rounded-full bg-[var(--skill-bar-fill)]"></div>
                            </div>
                        </div>
                        <!-- Skill Bar: Collaboration with Cross-Functional Teams -->
                        <div class="skill-bar-container" data-percent="98">
                            <div class="flex justify-between items-end mb-1 text-sm text-[var(--text-contrast)]">
                                <span>Collaboration with Cross-Functional Teams</span>
                                <span>98%</span>
                            </div>
                            <div class="w-full bg-[var(--skill-bar-bg)] rounded-full h-2">
                                <div class="skill-bar-fill h-full rounded-full bg-[var(--skill-bar-fill)]"></div>
                            </div>
                        </div>
                        <!-- Skill Bar: Design Thinking & Problem Solving -->
                        <div class="skill-bar-container" data-percent="92">
                            <div class="flex justify-between items-end mb-1 text-sm text-[var(--text-contrast)]">
                                <span>Design Thinking & Problem Solving</span>
                                <span>92%</span>
                            </div>
                            <div class="w-full bg-[var(--skill-bar-bg)] rounded-full h-2">
                                <div class="skill-bar-fill h-full rounded-full bg-[var(--skill-bar-fill)]"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Volunteer Experience -->
                <div class="bg-[var(--bg-secondary)] rounded-xl shadow-xl p-8 md:p-12 border-2 border-[var(--border-default)] mb-10 scroll-animate">
                    <h3 class="text-2xl font-bold text-[var(--text-contrast)] border-b-2 border-[var(--glitch-red-shadow)] pb-2 mb-4 mt-8">Volunteer Experience & Key Contributions</h3>
                    <div class="mb-6">
                        <h4 class="text-xl font-semibold text-[var(--text-contrast)]">First Love Church | Ocala, FL | 2024-Present</h4>
                        <p class="text-[var(--text-primary)]">Lead visual design and content strategy for weekly services, collaborating with pastors and fellowship to create accessible, engaging projections for live audiences. Also support underserved communities through food delivery efforts, deepening my empathy and ability to design solutions around diverse needs.</p>
                    </div>
                    <div class="mb-6">
                        <h4 class="text-xl font-semibold text-[var(--text-contrast)]">Firefighter | Hernando Beach, FL | 2012-2016</h4>
                        <p class="text-[var(--text-primary)]">Served in high-pressure, emergency environments where quick decisions, teamwork, and communication were critical to ensuring public safety. Built resilience and problem-solving skills while coordinating with diverse teams under urgent conditions.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-[var(--bg-secondary)] text-[var(--text-primary)] py-8 text-center rounded-t-xl">
        <div class="container mx-auto px-6 md:px-12">
            <!-- Download Resume Button -->
            <p>&copy; 2025 Amanda Ramirez. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href.startsWith('#')) {
                    e.preventDefault();
                    const targetElement = document.querySelector(href);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                }
                // Close the mobile menu after clicking a link
                document.getElementById('mobile-menu').classList.add('hidden');
                document.getElementById('mobile-menu-button').setAttribute('aria-expanded', 'false');
            });
        });

        // Toggle mobile menu visibility
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton.addEventListener('click', function() {
            const isExpanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !isExpanded);
            mobileMenu.classList.toggle('hidden');
        });

        // Scroll to top button functionality
        const scrollToTopBtn = document.getElementById("scrollToTopBtn");

        window.onscroll = function() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        };

        scrollToTopBtn.addEventListener('click', function() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        });

        // Theme toggle functionality
        const themeToggleBtn = document.getElementById('theme-toggle');
        const moonIcon = document.getElementById('moon-icon');
        const sunIcon = document.getElementById('sun-icon');
        const body = document.body;
        
        // 3D Scene and Materials (will be initialized on window load)
        let particleMaterial;
        let lineMaterial;
        
        // Function to update the 3D scene colors
        function update3DColors() {
            const isLightMode = body.classList.contains('light-mode');
            if (isLightMode) {
                // Light Mode Colors
                particleMaterial.color.setHex(0x1D4ED8); 
                lineMaterial.color.setHex(0xB91C1C); 
            } else {
                // Dark Mode Colors
                particleMaterial.color.setHex(0x3498DB);
                lineMaterial.color.setHex(0xB91C1C);
            }
        }

        // Check for saved theme preference on page load
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            body.classList.add('light-mode');
            moonIcon.classList.add('hidden');
            sunIcon.classList.remove('hidden');
        }

        themeToggleBtn.addEventListener('click', () => {
            if (body.classList.contains('light-mode')) {
                // Switch to dark mode
                body.classList.remove('light-mode');
                localStorage.setItem('theme', 'dark');
                moonIcon.classList.remove('hidden');
                sunIcon.classList.add('hidden');
            } else {
                // Switch to light mode
                body.classList.add('light-mode');
                localStorage.setItem('theme', 'light');
                moonIcon.classList.add('hidden');
                sunIcon.classList.remove('hidden');
            }
            update3DColors();
        });
        
        // 3D Hero Section Logic
        window.onload = function() {
            const canvas = document.getElementById('hero-canvas');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);

            // Create a network of particles
            const particleCount = 150;
            const particles = new THREE.BufferGeometry();
            const particlePositions = new Float32Array(particleCount * 3);
            const particleVelocities = new Float32Array(particleCount * 3).fill(0); // Start with zero velocity

            for (let i = 0; i < particleCount * 3; i += 3) {
                // Randomly place particles within a cube-like area
                particlePositions[i] = (Math.random() - 0.5) * 10;
                particlePositions[i + 1] = (Math.random() - 0.5) * 10;
                particlePositions[i + 2] = (Math.random() - 0.5) * 10;
            }

            particles.setAttribute('position', new THREE.BufferAttribute(particlePositions, 3));
            
            // Initial colors based on current theme
            const isLightMode = body.classList.contains('light-mode');
            const initialParticleColor = isLightMode ? 0x1D4ED8 : 0x3498DB;
            const initialLineColor = 0xB91C1C;

            particleMaterial = new THREE.PointsMaterial({
                color: new THREE.Color(initialParticleColor),
                size: 0.15,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending,
                sizeAttenuation: true
            });
            
            const particleSystem = new THREE.Points(particles, particleMaterial);
            scene.add(particleSystem);

            // Create lines to connect the particles
            const lineGeometry = new THREE.BufferGeometry();
            // Pre-allocate space for a large number of lines
            const linePositions = new Float32Array(particleCount * particleCount * 3); 
            lineGeometry.setAttribute('position', new THREE.BufferAttribute(linePositions, 3).setUsage(THREE.DynamicDrawUsage));
            
            lineMaterial = new THREE.LineBasicMaterial({
                color: new THREE.Color(initialLineColor),
                transparent: true,
                opacity: 0.3,
                blending: THREE.AdditiveBlending
            });
            
            const lineMesh = new THREE.LineSegments(lineGeometry, lineMaterial);
            scene.add(lineMesh);

            // Add lights
            const ambientLight = new THREE.AmbientLight(0x404040, 5);
            scene.add(ambientLight);
            const directionalLight1 = new THREE.DirectionalLight(0xE74C3C, 5);
            directionalLight1.position.set(5, 5, 5);
            scene.add(directionalLight1);
            const directionalLight2 = new THREE.DirectionalLight(0x3498DB, 5);
            directionalLight2.position.set(-5, -5, -5);
            scene.add(directionalLight2);
            
            camera.position.z = 8;

            let mouse = new THREE.Vector3();
            const mouseRepulsionRadius = 3; 
            const mouseRepulsionPower = 0.05; // Adjusted repulsion power

            // Mouse interaction
            document.addEventListener('mousemove', (event) => {
                // Convert mouse position to normalized device coordinates (-1 to +1)
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            });
            
            // Animation Loop
            function animate() {
                requestAnimationFrame(animate);

                // Project mouse coordinates into 3D space
                const mouse3D = new THREE.Vector3(mouse.x, mouse.y, 0.5).unproject(camera);
                const raycaster = new THREE.Raycaster(camera.position, mouse3D.sub(camera.position).normalize());
                const plane = new THREE.Plane(new THREE.Vector3(0, 0, 1), 0); // An imaginary plane at z=0
                const targetPoint = new THREE.Vector3();
                raycaster.ray.intersectPlane(plane, targetPoint);
                
                let p = particles.attributes.position.array;
                let v = particleVelocities;
                
                // Calculate repulsion force and update velocities
                for (let i = 0; i < p.length; i += 3) {
                    const particlePos = new THREE.Vector3(p[i], p[i+1], p[i+2]);
                    const distance = particlePos.distanceTo(targetPoint);

                    if (distance < mouseRepulsionRadius) {
                        // Calculate repulsion force
                        const repulsionVector = particlePos.clone().sub(targetPoint).normalize();
                        
                        // Apply force to velocity, weighted by distance
                        const forceFactor = (mouseRepulsionRadius - distance) / mouseRepulsionRadius;
                        v[i] += repulsionVector.x * forceFactor * mouseRepulsionPower;
                        v[i+1] += repulsionVector.y * forceFactor * mouseRepulsionPower;
                        v[i+2] += repulsionVector.z * forceFactor * mouseRepulsionPower;
                    }
                }
                
                // Update particle positions based on their velocity and apply damping
                for (let i = 0; i < p.length; i += 3) {
                    // Update position
                    p[i] += v[i];
                    p[i + 1] += v[i + 1];
                    p[i + 2] += v[i + 2];
                    
                    // Apply a damping factor to slow down the particles
                    v[i] *= 0.95;
                    v[i+1] *= 0.95;
                    v[i+2] *= 0.95;
                    
                    // Bounce off imaginary box walls
                    if (Math.abs(p[i]) > 5) v[i] *= -1;
                    if (Math.abs(p[i+1]) > 5) v[i+1] *= -1;
                    if (Math.abs(p[i+2]) > 5) v[i+2] *= -1;
                }
                
                // Update line connections
                let lineIndex = 0;
                const maxDistance = 2.5;
                for (let i = 0; i < particleCount; i++) {
                    for (let j = i + 1; j < particleCount; j++) {
                        // Calculate distance between particles
                        const dist = Math.sqrt(
                            Math.pow(p[i * 3] - p[j * 3], 2) +
                            Math.pow(p[i * 3 + 1] - p[j * 3 + 1], 2) +
                            Math.pow(p[i * 3 + 2] - p[j * 3 + 2], 2)
                        );

                        // Only draw a line if particles are close
                        if (dist < maxDistance) {
                            const opacity = (1 - dist / maxDistance) * 0.5;
                            lineMesh.material.opacity = opacity;

                            linePositions[lineIndex++] = p[i * 3];
                            linePositions[lineIndex++] = p[i * 3 + 1];
                            linePositions[lineIndex++] = p[i * 3 + 2];

                            linePositions[lineIndex++] = p[j * 3];
                            linePositions[lineIndex++] = p[j * 3 + 1];
                            linePositions[lineIndex++] = p[j * 3 + 2];
                        }
                    }
                }
                
                // Set the draw range to only render the connected lines
                lineGeometry.setDrawRange(0, lineIndex);
                
                // Update the geometry
                particles.attributes.position.needsUpdate = true;
                lineGeometry.attributes.position.needsUpdate = true;
                
                renderer.render(scene, camera);
            }
            animate();

            // Handle window resizing
            window.addEventListener('resize', () => {
                const newWidth = window.innerWidth;
                const newHeight = window.innerHeight;
                camera.aspect = newWidth / newHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(newWidth, newHeight);
            });
        };

        // Intersection Observer for scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const target = entry.target;
                    // Check if the target is a general animated section
                    if (target.classList.contains('scroll-animate')) {
                        target.classList.add('is-visible');
                    }
                    
                    // Check if the target contains skill bars to animate
                    const skillBars = target.querySelectorAll('.skill-bar-fill');
                    if (skillBars.length > 0) {
                        skillBars.forEach(bar => {
                            const percent = bar.closest('.skill-bar-container').dataset.percent;
                            bar.style.width = percent + '%';
                        });
                    }
                    // Stop observing once it's visible to save resources
                    observer.unobserve(target); 
                }
            });
        }, {
            threshold: 0.1, // Trigger when 10% of the element is visible
        });

        // Select all sections with the scroll-animate class
        const sectionsToAnimate = document.querySelectorAll('.scroll-animate, .skill-bar-container');
        sectionsToAnimate.forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>
